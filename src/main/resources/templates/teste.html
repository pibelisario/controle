<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>teste cpf</title>
</head>
<body>
	<label for="telefone">Telefone Fixo</label>
	<input type="text" id="telefone" onkeyup="mascaraFixo('(##)####-####', this)" name="telefone" placeholder="Telefone fixo" autocomplete="off">
	
	<script>
		function mascaraFixo(mascara, input){
			const vetMask = mascara.split("") 
			const numTel = input.value.replace(/\D/g, "")
			const cursor = input.selectionStart
			const tecla = (window.event) ? event.keyCode : event.which

			for (let i = 0; i < numTel.length; i++){
				vetMask.splice(vetMask.indexOf("#"), 1, numTel[i])
			}
			input.value = vetMask.join("")
			if (tecla != 37 && (cursor == 1 || cursor == 3 || cursor ==8)){
				input.setSelectionRange(cursor+1, cursor+1)
			} else {
				input.setSelectionRange(cursor, cursor)
			}
			
		}
	</script>
</body>
</html>